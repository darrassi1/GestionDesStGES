{% extends 'AdminUsersBundle::layout.html.twig' %}

{% block title %}   GestionUsers    {% endblock %}

{% block css %}
    <link href="{{ asset('Backoffice/vendor/select2/select2.min.css') }}" rel="stylesheet" media="screen">
    <link href="{{ asset('Backoffice/vendor/DataTables/css/DT_bootstrap.css') }}" rel="stylesheet" media="screen">
{% endblock %}

 {% block Menu %}
     <ul class="main-navigation-menu">
         <li>
             <a href="index.html">
                 <div class="item-content">
                     <div class="item-media">
                         <i class="ti-home"></i>
                     </div>
                     <div class="item-inner">
                         <span class="title"> Dashboard </span>
                     </div>
                 </div>
             </a>
         </li>
         <li>
             <a href="{{ path('admin_users_Profile') }}">
                 <div class="item-content">
                     <div class="item-media">
                         <i class="ti-settings"></i>
                     </div>
                     <div class="item-inner">
                         <span class="title"> Profile </span>
                     </div>
                 </div>
             </a>
         </li>
         <li>
             <a href="{{ path('admin_users_Messages') }}">
                 <div class="item-content">
                     <div class="item-media">
                         <i class="ti-settings"></i>
                     </div>
                     <div class="item-inner">
                         <span class="title"> Messages </span>
                     </div>
                 </div>
             </a>
         </li>
         <li >
             <a href="{{ path('admin_users_Agenda') }}">
                 <div class="item-content">
                     <div class="item-media">
                         <i class="ti-settings"></i>
                     </div>
                     <div class="item-inner">
                         <span class="title"> Agenda </span>
                     </div>
                 </div>
             </a>
         </li>
         <li >
             <a href="{{ path('admin_users_GestionStages') }}">
                 <div class="item-content">
                     <div class="item-media">
                         <i class="ti-settings"></i>
                     </div>
                     <div class="item-inner">
                         <span class="title">Gestion Stages </span>
                     </div>
                 </div>
             </a>
         </li>
         <li>
             <a href="{{ path('admin_users_Gestionsoutenances') }}">
                 <div class="item-content">
                     <div class="item-media">
                         <i class="ti-settings"></i>
                     </div>
                     <div class="item-inner">
                         <span class="title">Gestion soutenances </span>
                     </div>
                 </div>
             </a>
         </li>
         <li   class="active open">
             <a href="{{ path('admin_users_GestionUsers') }}">
                 <div class="item-content">
                     <div class="item-media">
                         <i class="ti-settings"></i>
                     </div>
                     <div class="item-inner">
                         <span class="title"> Gestions Users </span>
                     </div>
                 </div>
             </a>
         </li>
         <li>
             <a href="{{ path('admin_users_GestionDocs') }}">
                 <div class="item-content">
                     <div class="item-media">
                         <i class="ti-settings"></i>
                     </div>
                     <div class="item-inner">
                         <span class="title"> Gestion Documents </span>
                     </div>
                 </div>
             </a>
         </li>
         <li>
             <a href="{{ path('admin_users_GestionRessources') }}">
                 <div class="item-content">
                     <div class="item-media">
                         <i class="ti-settings"></i>
                     </div>
                     <div class="item-inner">
                         <span class="title">Gestion Ressources </span>
                     </div>
                 </div>
             </a>
         </li>
     </ul>

 {% endblock %}
{% block pagetitle %}
    <section id="page-title" class="padding-top-15 padding-bottom-15">
        <div class="row">
            <div class="col-sm-7">
                <h1 class="mainTitle">GestionUsers</h1>
                <span class="mainDescription">overview &amp; stats </span>
            </div>
        </div>
    </section>
{% endblock %}

{% block body %}

    <div class="container-fluid container-fullw bg-white">
									<div class="panel panel-white no-radius">
										<div class="panel-heading border-light">
											<h4 class="panel-title">Users</h4>
										</div>
										<div class="panel-body no-padding">
											<div class="clearfix padding-5 space5">
												<div class="col-xs-4 text-center no-padding">
													<div class="border-right border-dark">
														<a class="text-dark" id="addadmin" >
                                                            <i class="fa fa-bookmark-o text-green"></i>Add Admin
														</a>
													</div>
												</div>
												<div class="col-xs-4 text-center no-padding">
													<div class="border-right border-dark">
														<a class="text-dark"  id="addteacher" >
															<i class="fa fa-bookmark-o text-green"></i> Add Teacher
														</a>
													</div>
												</div>
												<div class="col-xs-4 text-center no-padding">
													<a class="text-dark" id="addstudent">
														<i class="fa fa-bookmark-o text-green"></i> Add Student</a>
													</a>
												</div>
											</div>
											<div class="tabbable no-margin no-padding">
												<ul class="nav nav-tabs" id="myTab">
													<li class="padding-top-5 padding-left-5 active">
														<a data-toggle="tab" href="#users_admin" aria-expanded="true">
															admin
														</a>
													</li>
													<li class="padding-top-5">
														<a data-toggle="tab" href="#users_prof" aria-expanded="false">
															Teacher
														</a>
													</li>
													<li class="padding-top-5">
														<a data-toggle="tab" href="#users_student" aria-expanded="false">
															Student
														</a>
													</li>
												</ul>
												<div class="tab-content">
													<div id="users_admin" class="tab-pane padding-bottom-5 active">
														<div class="panel-scroll height-200 ps-container ps-active-y">
															<table class="table no-margin">
																<tbody>
																	<tr>
																		<td class="center"><img alt="image" class="img-circle" src="assets/images/avatar-1-small.jpg"></td>
																		<td><span class="text-small block text-light">Teacherr</span><span>ahmed moujid</span></td>
																		<td class="center">
																		<div class="cl-effect-13">
																			<a href="">
																				view more
																			</a>
																		</div></td>
																	</tr>
																	<tr>
																		<td class="center"><img alt="image" class="img-circle" src="assets/images/avatar-2-small.jpg"></td>
																		<td><span class="text-small block text-light">cordinateur de GenieInfo </span><span>mohammed moujtahid</span></td>
																		<td class="center">
																		<div class="cl-effect-13">
																			<a href="">
																				view more
																			</a>
																		</div></td>
																	</tr>
																	<tr>
																		<td class="center"><img alt="image" class="img-circle" src="assets/images/avatar-3-small.jpg"></td>
																		<td><span class="text-small block text-light">Developper</span><span>ahmed moutaouakil</span></td>
																		<td class="center">
																		<div class="cl-effect-13">
																			<a href="">
																				view more
																			</a>
																		</div></td>
																	</tr>
																	<tr>
																		<td class="center"><img alt="image" class="img-circle" src="assets/images/avatar-5-small.jpg"></td>
																		<td><span class="text-small block text-light"> super ADMIM De UPF </span><span>Kenneth Ross</span></td>
																		<td class="center">
																		<div class="cl-effect-13">
																			<a href="">
																				view more
																			</a>
																		</div></td>
																	</tr>
																	<tr>
																		<td class="center"><img alt="image" class="img-circle" src="assets/images/avatar-4-small.jpg"></td>
																		<td><span class="text-small block text-light">Teacher</span><span>ahmed X/span></td>
																		<td class="center">
																		<div class="cl-effect-13">
																			<a href="">
																				view more
																			</a>
																		</div></td>
																	</tr>
																</tbody>
															</table>
														<div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 3px;"><div class="ps-scrollbar-x" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; height: 200px; right: 3px;"><div class="ps-scrollbar-y" style="top: 0px; height: 153px;"></div></div></div>
													</div>
													<div id="users_prof" class="tab-pane padding-bottom-5">
														<div class="panel-scroll height-200 ps-container">
															<table class="table no-margin">
																<tbody>
																	<tr>
																		<td class="center"><img alt="image" class="img-circle" src="{{ asset('Backoffice/assets/images/avatar-4-small.jpg') }}"></td>
																		<td><span class="text-small block text-light">Visual Designer</span><span>Steven Thompson</span></td>
																		<td class="center">
																		<div class="cl-effect-13">
																			<a href="">
																				view more
																			</a>
																		</div></td>
																	</tr>
																	<tr>
																		<td class="center"><img alt="image" class="img-circle" src="{{ asset('Backoffice/assets/images/avatar-4-small.jpg') }}"></td>
																		<td><span class="text-small block text-light">Senior Designer</span><span>Kenneth Ross</span></td>
																		<td class="center">
																		<div class="cl-effect-13">
																			<a href="">
																				view more
																			</a>
																		</div></td>
																	</tr>
																	<tr>
																		<td class="center"><img alt="image" class="img-circle" src="{{ asset('Backoffice/assets/images/avatar-4-small.jpg') }}"></td>
																		<td><span class="text-small block text-light">Web Editor</span><span>Ella Patterson</span></td>
																		<td class="center">
																		<div class="cl-effect-13">
																			<a href="">
																				view more
																			</a>
																		</div></td>
																	</tr>
																</tbody>
															</table>
														<div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 3px;"><div class="ps-scrollbar-x" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; right: 3px;"><div class="ps-scrollbar-y" style="top: 0px; height: 0px;"></div></div></div>
													</div>
											     	<div id="users_student" class="tab-pane padding-bottom-5">
														<div class="panel-scroll height-200 ps-container">
                                <div id="sample_1_wrapper" class="dataTables_wrapper no-footer">
                                                <div id="sample_1_filter" class="dataTables_filter"></div>
                                                    <table class="table table-striped table-bordered table-hover table-full-width dataTable no-footer" id="sample_1" role="grid" aria-describedby="sample_1_info">
                                                        <thead>
                                                        <tr role="row">
                                                        <th class="sorting" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" aria-label="Browser: activate to sort column ascending" style="width: 211px;">Departement</th>
                                                        <th class="hidden-xs sorting_asc" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Creator: activate to sort column descending" style="width: 247px;">Action</th>
                                                        <th class="hidden-xs sorting_asc" tabindex="0" aria-controls="sample_1" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Creator: activate to sort column descending" style="width: 247px;">Action</th>
                                                        </thead>
                                                        <tbody>
                                                        <tr role="row" class="odd">
															<td class="center"><img alt="image" class="img-circle" src="{{ asset('Backoffice/assets/images/avatar-4-small.jpg') }}"></td>
															<td><span class="text-small block text-light">Student genie civil</span><span>Ella Patterson</span></td>
                                                            <td class="hidden-xs sorting_1">
                                                            <div class="cl-effect-13">
																			<a href="">
																				view more
																			</a>
															</div>
															</td>
                                                        </tr>
                                                        </tbody>
                                                    </table>
                                </div>
														</div>
											</div>
										</div>
									</div>

   </div>
   </div>
   </div>

	<div id="orderModal" class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">Add Administration</h4>
				</div>
				<div  id="orderModalcontent" class="modal-body">
					<div  class="tab-pane fade in active" id="tab1">

						<div class="form_error"></div>
						<form method="POST" id="idForm" action="{{path('Administration_createAdminProf')}}" {{ form_enctype(formR) }}>
							<div id="form_body2">
								<div class="col-md-12">
									<div class="col-md-12">{{ form_errors(formR) }}</div>
									<div class="bg-danger">{{ form_errors(formR.username) }}</div>
									<div class="form-group input-group">
										{{ form_widget(formR.username,  {'attr': {'placeholder':'username', 'title':'username', 'class':'form-control'}}) }}
									</div>
								</div>
								<br>
								<div class="col-md-12">
									<div class="bg-danger">{{ form_errors(formR.email) }}</div>
									<div class="form-group">
										{{ form_widget(formR.email,  {'attr': {'placeholder':'email','title':'email', 'class':'form-control'}}) }}
									</div>
								</div>
								<br>
								<div class="col-md-12">
									<div class="bg-danger">{{ form_errors(formR.plainPassword) }}</div>
									<div class="form-group">
										{{ form_widget(formR.plainPassword) }}
									</div>
								</div>
							</div>
							<br>
							<button type="submit" class="btn btn-primary">Submit</button>
							{{form_rest(formR)}}
						</form>

					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary btn-o" data-dismiss="modal">
						Close
					</button>
				</div>
			</div>
		</div>
	</div>


	<div id="orderModalProf" class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">Add Administration</h4>
				</div>
				<div  id="orderModalcontent" class="modal-body">
					<div  class="tab-pane fade in active" id="tab1">

						<div class="form_error"></div>
						<form method="POST" id="idForm" action="{{path('Administration_createAdminenc')}}" {{ form_enctype(formR) }}>
							<div id="form_body2">
								<div class="col-md-12">
									<div class="col-md-12">{{ form_errors(formR) }}</div>
									<div class="bg-danger">{{ form_errors(formR.username) }}</div>
									<div class="form-group input-group">
										{{ form_widget(formR.username,  {'attr': {'placeholder':'username', 'title':'username', 'class':'form-control'}}) }}
									</div>
								</div>
								<br>
								<div class="col-md-12">
									<div class="bg-danger">{{ form_errors(formR.email) }}</div>
									<div class="form-group">
										{{ form_widget(formR.email,  {'attr': {'placeholder':'email','title':'email', 'class':'form-control'}}) }}
									</div>
								</div>
								<br>
								<div class="col-md-12">
									<div class="bg-danger">{{ form_errors(formR.plainPassword) }}</div>
									<div class="form-group">
										{{ form_widget(formR.plainPassword) }}
									</div>
								</div>
							</div>
							<br>
							<button type="submit" class="btn btn-primary">Submit</button>
							{{form_rest(formR)}}
						</form>

					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary btn-o" data-dismiss="modal">
						Close
					</button>
				</div>
			</div>
		</div>
	</div>

	<div id="orderModaletudient" class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">Add Administration</h4>
				</div>
				<div  id="orderModalcontent" class="modal-body">
					<div  class="tab-pane fade in active" id="tab1">

						<div class="form_error"></div>
						<form method="POST" id="idForm" action="{{path('Administration_createAdminProf')}}" {{ form_enctype(formR) }}>
							<div id="form_body2">
								<div class="col-md-12">
									<div class="col-md-12">{{ form_errors(formR) }}</div>
									<div class="bg-danger">{{ form_errors(formR.username) }}</div>
									<div class="form-group input-group">
										{{ form_widget(formR.username,  {'attr': {'placeholder':'username', 'title':'username', 'class':'form-control'}}) }}
									</div>
								</div>
								<br>
								<div class="col-md-12">
									<div class="bg-danger">{{ form_errors(formR.email) }}</div>
									<div class="form-group">
										{{ form_widget(formR.email,  {'attr': {'placeholder':'email','title':'email', 'class':'form-control'}}) }}
									</div>
								</div>
								<br>
								<div class="col-md-12">
									<div class="bg-danger">{{ form_errors(formR.plainPassword) }}</div>
									<div class="form-group">
										{{ form_widget(formR.plainPassword) }}
									</div>
								</div>
							</div>
							<br>
							<button type="submit" class="btn btn-primary">Submit</button>
							{{form_rest(formR)}}
						</form>

					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary btn-o" data-dismiss="modal">
						Close
					</button>
				</div>
			</div>
		</div>
	</div>

{% endblock %}
{% block javascript %}
	<script>
		$('#addadmin').click(function() {
			$('#orderModal').modal();
		});
	</script>
<script>
		$('#addteacher').click(function() {
			$('#orderModal').modal();
		});
	</script>
	<script>
		$('#addstudent').click(function() {
			$('#orderModal').modal();
		});
	</script>	

	<script>
		$(document).ready(function() {
			$('#idForm').on('submit', function(e) {
				e.preventDefault();
				$.ajax({
					
					url:$(this).attr('action'),
					type:$(this).attr('method'),
					data: $(this).serialize(),
					beforeSend: function(){
						alert("beffour send");
					}, success: function() {
						alert("succes");
						$.ajax({
							url: Routing.generate("Administration_new"),
							success: function (data) {
								$('#orderModalcontent').html(data);
							},
						});
					},error: function(jqXHR, textStatus, errorThrown){
						if (typeof jqXHR.responseJSON !== 'undefined') {
							if (jqXHR.responseJSON.hasOwnProperty('form')) {
								$('#form_body').html(jqXHR.responseJSON.form);
							}

							$('.form_error').html(jqXHR.responseJSON.message);

						} else {
							alert(errorThrown);
						}                    },
					complete: function(){
						$('#orderModalcontent').html("waiting ...");
					}
				});

			});

		});

	</script>

	<script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
	<script src="{{ path('fos_js_routing_js', {'callback': 'fos.Router.setData'}) }}"></script>
    <script src="{{ asset('Backoffice/vendor/select2/select2.min.js') }}"></script>
    <script src="{{ asset('Backoffice/vendor/DataTables/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('Backoffice/assets/js/table-data.js') }}"></script>
    <script>
        jQuery(document).ready(function() {
            TableData.init();
        });
    </script>
{% endblock %}

